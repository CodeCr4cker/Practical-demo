<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Coderstar</title>
  <style>
    * { box-sizing: border-box; }

    .page-content {
      opacity: 0;
      transform: translateY(-20px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    .page-content.animate-in {
      opacity: 1;
      transform: translateY(0);
    }

    body {
      margin: 0;
      display: flex;
      min-height: 100dvh;
      perspective: 1000px;
      font-size: 1rem;
      overflow: hidden;
      color: hsl(180 68% 5%);
      background-image: radial-gradient(circle farthest-corner at 50% 50%, hsl(189, 56%, 73%) 30%, hsl(150, 80%, 75%) 100%);
    }

    .book {
      position: relative;
      display: flex;
      margin: auto;
      width: 40cqmin;
      height: 550px;
      pointer-events: auto;
      transform-style: preserve-3d;
      transition: translate 1s;
      translate: calc(min(var(--c), 1) * 50%) 0%;
      rotate: 1 0 0 30deg;
      counter-reset: page -1;
    }

    .neon-typing {
      color: var(--neon-yellow);
      text-shadow: var(--neon-shadow-yellow);
    }

    .page {
      --thickness: 4;
      flex: none;
      display: flex;
      width: 100%;
      font-size: 1.5cqmin;
      pointer-events: all;
      user-select: none;
      transform-style: preserve-3d;
      transform-origin: left center;
      transition:
        transform 1s,
        rotate 1s ease-in calc((min(var(--i), var(--c)) - max(var(--i), var(--c))) * 50ms);
      translate: calc(var(--i) * -100%) 0px 0px;
      transform: translateZ( calc((var(--c) - var(--i) - 0.5) * calc(var(--thickness) * .23cqmin)));
      rotate: 0 1 0 calc(clamp(0, var(--c) - var(--i), 1) * -180deg);
      box-shadow: 0em .5em 1em -.2em #00000020;
    }

    .front,
    .back {
      position: relative;
      flex: none;
      width: 100%;
      backface-visibility: hidden;
      overflow: hidden;
      background-color: #fff;
      display: flex;
      flex-flow: column wrap;
      justify-content: space-between;
      padding: 2em;
      border: 1px solid #0002;
    }

    .front::after,
    .back::after {
      position: absolute;
      bottom: 1em;
      counter-increment: page;
      content: counter(page) ".";
      font-size: 0.8em;
    }

    .front::after { right: 1em; }
    .back {
      translate: -100% 0;
      rotate: 0 1 0 180deg;
    }
    .back::after { left: 1em; }

    .cover {
      background: radial-gradient(circle farthest-corner at 80% 20%, hsl(150 80% 20% / .3) 0%, hsl(170 60% 10% / .1) 100%),
      hsl(231, 32%, 29%) url("https://raw.githubusercontent.com/CodeCr4cker/book-flip/main/img/front.jpg") 50% / cover;
      color: hsl(200 30% 98%);
      pointer-events: auto;
    }

    .cover::after { content: ""; }

    h1 {
      font-size: 1.8em;
      margin: 0.5em 0;
    }

    h2 {
      font-size: 1.3em;
      margin: 0.4em 0;
    }

    p {
      font-size: 0.95em;
      margin: 0.4em 0;
    }

    /* Dynamic Image Styles */
    .page-image {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100px;
      height: 100px;
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
      transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      z-index: 10;
      border-radius: 50%;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      pointer-events: none;
    }

    .page-image.show {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }

    .page-image.hide {
      transform: translate(-50%, -50%) scale(0) rotate(180deg);
      opacity: 0;
    }

    /* Specific image positioning for different pages */
    .page-image.intro-img {
      top: 20%;
      right: 10%;
      left: auto;
      transform: translate(0, -50%) scale(0);
    }

    .page-image.intro-img.show {
      transform: translate(0, -50%) scale(1);
    }

    .page-image.intro-img.hide {
      transform: translate(0, -50%) scale(0) rotate(-180deg);
    }

    .page-image.code-img {
      top: 70%;
      left: 20%;
      transform: translate(-50%, -50%) scale(0);
    }

    .page-image.code-img.show {
      transform: translate(-50%, -50%) scale(1);
    }

    .page-image.skills-img {
      top: 30%;
      right: 15%;
      left: auto;
      transform: translate(0, -50%) scale(0);
    }

    .page-image.skills-img.show {
      transform: translate(0, -50%) scale(1);
    }

    .page-image.vision-img {
      top: 60%;
      left: 15%;
      transform: translate(-50%, -50%) scale(0);
    }

    .page-image.vision-img.show {
      transform: translate(-50%, -50%) scale(1);
    }

    .page-image.connect-img {
      top: 25%;
      right: 20%;
      left: auto;
      transform: translate(0, -50%) scale(0);
    }

    .page-image.connect-img.show {
      transform: translate(0, -50%) scale(1);
    }

    .page-image.learn-img {
      top: 40%;
      left: 25%;
      transform: translate(-50%, -50%) scale(0);
    }

    .page-image.learn-img.show {
      transform: translate(-50%, -50%) scale(1);
    }

    .page-image.thanks-img {
      top: 65%;
      right: 25%;
      left: auto;
      transform: translate(0, -50%) scale(0);
    }

    .page-image.thanks-img.show {
      transform: translate(0, -50%) scale(1);
    }

    @media (max-width: 768px) {
      body {
        font-size: 0.9rem;
      }

      .page {
        font-size: 1.2cqmin;
      }

      h1 {
        font-size: 1.5em;
      }

      h2 {
        font-size: 1.1em;
      }

      p {
        font-size: 0.85em;
      }
      .book {
        height: 200px;
      }

      .page-image {
        width: 60px;
        height: 60px;
      }
    }
  </style>
</head>
<body>
  <div class="book">
    <div class="page">
      <div class="front cover">
           </div>
      <div class="back"></div>
    </div>

    <div class="page">
      <div class="front">
        <div class="page-content">
          <h2><span id="type1" class="neon-typing"></span></h2>
          <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face" alt="Profile" class="page-image intro-img" id="img1">
        </div>
      </div>
      <div class="back">
        <div class="page-content">
          <h2>my introduction</h2>
          <h2><span id="type2" class="neon-typing"></span></h2>
          <img src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?w=150&h=150&fit=crop" alt="Student coding" class="page-image code-img" id="img2">
        </div>
      </div>
    </div>

    <div class="page">
      <div class="front">
        <div class="page-content">
          <h2>Why I Code üíª</h2>
          <h2><span id="type3" class="neon-typing"></span></h2>
          <img src="https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=150&h=150&fit=crop" alt="Coding passion" class="page-image code-img" id="img3">
        </div>
      </div>
      <div class="back">
        <div class="page-content">
          <h2>What I Know üß†</h2>
          <h2><span id="type4" class="neon-typing"></span></h2>
          <img src="https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=150&h=150&fit=crop" alt="Tech skills" class="page-image skills-img" id="img4">
        </div>
      </div>
    </div>

    <div class="page">
      <div class="front">
        <div class="page-content">
          <h2>My Vision üöÄ</h2>
          <h2><span id="type5" class="neon-typing"></span></h2>
          <img src="https://images.unsplash.com/photo-1518709268805-4e9042af2176?w=150&h=150&fit=crop" alt="Future vision" class="page-image vision-img" id="img5">
        </div>
      </div>
      <div class="back">
        <div class="page-content">
          <h2>Let's Connect! ü§ù</h2>
          <h2><span id="type6" class="neon-typing"></span></h2>
          <img src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=150&h=150&fit=crop" alt="Collaboration" class="page-image connect-img" id="img6">
        </div>
      </div>
    </div>

    <div class="page">
      <div class="front">
        <div class="page-content">
          <h2>Learning Philosophy</h2>
          <h2><span id="type7" class="neon-typing"></span></h2>
          <img src="https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=150&h=150&fit=crop" alt="Learning" class="page-image learn-img" id="img7">
        </div>
      </div>
      <div class="back">
        <div class="page-content">
          <h2>Thank You for Being Here üôè</h2>
          <h2><span id="type8" class="neon-typing"></span></h2>
          <img src="https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=150&h=150&fit=crop" alt="Gratitude" class="page-image thanks-img" id="img8">
        </div>
      </div>
    </div>

    <div class="page">
      <div class="front"></div>
      <div class="back cover"></div>
    </div>
  </div>

  <script>
    let globalClicked = false;

    document.addEventListener("DOMContentLoaded", () => {
      const elBook = document.querySelector(".book");
      flipBook(elBook);
    });

    function flipBook(elBook) {
      elBook.style.setProperty("--c", 0);
      const pages = elBook.querySelectorAll(".page");
      pages.forEach((page, idx) => page.style.setProperty("--i", idx));

      const coverPage = pages[0];
      coverPage.addEventListener("click", () => {
        if (globalClicked) return;
        globalClicked = true;
        elBook.style.setProperty("--c", 1);
        setTimeout(() => startTypingSequence(elBook), 1000);
      });

      window.resetBook = () => {
        globalClicked = false;
        elBook.style.setProperty("--c", 0);
        document.querySelectorAll('.neon-typing').forEach(el => el.innerHTML = '');
        document.querySelectorAll('.page-content').forEach(content => content.classList.remove('animate-in'));
        document.querySelectorAll('.page-image').forEach(img => {
          img.classList.remove('show', 'hide');
        });
        console.log("Book reset completed");
      };
    }

    const typingPages = [
      {
        front: "#type1",
        back: "#type2",
        frontText: ` Jay Shree Ram`,
        backText: ` I'm a 12th standard student who's deeply passionate about coding and creativity.
          My journey in tech started with curiosity and grew into a strong desire to build, solve, and innovate. 
          I love spending time exploring new web technologies and turning ideas into interactive digital experiences. `,
        frontImage: "#img1",
        backImage: "#img2"
      },
      {
        front: "#type3",
        back: "#type4",
        frontText: ` For me, coding is not just about writing lines of code‚Äîit's about building a bridge between imagination and reality. 
          Whether it's a portfolio website, a flipbook animation, or a full-fledged chat app, I enjoy every part of the process‚Äîfrom designing UI to writing functional backend logic.`,
        backText: ` I have hands-on experience in HTML, CSS, JavaScript, Firebase, and responsive UI design. 
          I've built projects that include animated portfolios, flipbook-style interfaces, chat apps with real-time features, and creative tools that reflect my interest in design and interactivity.`,
        frontImage: "#img3",
        backImage: "#img4"
      },
      {
        front: "#type5",
        back: "#type6",
        frontText: ` My goal is to become a full-stack developer and explore fields like cybersecurity, artificial intelligence, and ethical hacking. 
          I believe technology can change the world‚Äîand I want to be part of that change. I constantly challenge myself to learn more, build better, and keep growing.`,
        backText: `I love collaborating with other developers, learning from others, and contributing to fun, meaningful projects.
          If you're someone who shares a love for tech, design, or innovation, let's connect and build something amazing together!`,
        frontImage: "#img5",
        backImage: "#img6"
      },
      {
        front: "#type7",
        back: "#type8",
        frontText: `I believe in learning by doing. I don't wait for the perfect time or course‚ÄîI dive into projects, break things, fix them, and learn along the way.`,
        backText: `Your time means a lot to me. Feel free to explore my projects, drop a message, or give feedback. 
          Every interaction helps me improve and grow.`,
        frontImage: "#img7",
        backImage: "#img8"
      }
    ];

    function showImage(imageId) {
      const img = document.querySelector(imageId);
      if (img) {
        img.classList.add('show');
        img.classList.remove('hide');
      }
    }

    function hideImage(imageId) {
      const img = document.querySelector(imageId);
      if (img) {
        img.classList.add('hide');
        img.classList.remove('show');
      }
    }

    function hideAllImages() {
      document.querySelectorAll('.page-image').forEach(img => {
        img.classList.add('hide');
        img.classList.remove('show');
      });
    }

    function typeText(el, text, callback) {
      let i = 0;
      el.innerHTML = "";
      function typeChar() {
        if (i < text.length) {
          el.innerHTML += text[i++];
          setTimeout(typeChar, 30);
        } else {
          callback && callback();
        }
      }
      typeChar();
    }

    function startTypingSequence(elBook) {
      let currentPage = 0;

      function processPage() {
        if (currentPage >= typingPages.length) return;

        const { front, back, frontText, backText, frontImage, backImage } = typingPages[currentPage];
        const frontEl = document.querySelector(front);
        const backEl = document.querySelector(back);
        const frontContent = frontEl.closest('.front').querySelector('.page-content');
        const backContent = backEl.closest('.back').querySelector('.page-content');

        setTimeout(() => {
          frontContent.classList.add('animate-in');
          setTimeout(() => {
            // Show front image when typing starts
            if (frontImage) {
              setTimeout(() => showImage(frontImage), 500);
            }
            
            typeText(frontEl, frontText, () => {
              setTimeout(() => {
                // Hide front image before page turn
                if (frontImage) hideImage(frontImage);
                
                setTimeout(() => {
                  elBook.style.setProperty("--c", currentPage + 2);
                  setTimeout(() => {
                    backContent.classList.add('animate-in');
                    setTimeout(() => {
                      // Show back image when typing starts
                      if (backImage) {
                        setTimeout(() => showImage(backImage), 500);
                      }
                      
                      typeText(backEl, backText, () => {
                        setTimeout(() => {
                          // Hide back image before next page
                          if (backImage) hideImage(backImage);
                          
                          setTimeout(() => {
                            currentPage++;
                            if (currentPage < typingPages.length) {
                              elBook.style.setProperty("--c", currentPage + 1);
                              setTimeout(processPage, 1000);
                            } else {
                              elBook.style.setProperty("--c", 5);
                              setTimeout(() => {
                                closeAndResetBook(elBook);
                              }, 3000);
                            }
                          }, 1000);
                        }, 2000);
                      });
                    }, 300);
                  }, 1000);
                }, 500);
              }, 1000);
            });
          }, 300);
        }, 500);
      }

      processPage();
    }

    function closeAndResetBook(elBook) {
      // Hide all images before closing
      hideAllImages();
      
      let currentC = parseInt(elBook.style.getPropertyValue("--c")) || 5;
      function closePage() {
        if (currentC > 0) {
          currentC--;
          elBook.style.setProperty("--c", currentC);
          setTimeout(closePage, 400);
        } else {
          setTimeout(() => {
            window.resetBook();
          }, 500);
        }
      }
      closePage();
    }
  </script>
</body>
</html>